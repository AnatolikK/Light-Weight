<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>
</head>
<body>
    <div>
        <h3>Имя пользователя</h3>
        <input id="usernameInput">
        <h3>Пароль</h3>
        <input id="passwordInput" type="password">
        <br><br>
        <button id="signinButton">Войти</button>
        <label id="statusLabel"></label>
    </div>

    <script>
        const usernameInput = document.getElementById("usernameInput");
        const passwordInput = document.getElementById("passwordInput");
        const signinButton = document.getElementById("signinButton");
        const statusLabel = document.getElementById("statusLabel");

        signinButton.onclick = (async () => {
            await fetch("signin", {
                method: "POST",
                body: JSON.stringify({
                    username: usernameInput.value,
                    password: passwordInput.value
                }),
                headers: {
                    "Content-Type": "application/json"
                }
            }).then((response) => {
                if (!response.ok) {
                    statusLabel.innerHTML = "Неверный логин или пароль";
                    setTimeout(() => statusLabel.innerHTML = "", 3000);
                }

                else
                    document.location.href = "/";
            })
        });
    </script>
</body>
</html>