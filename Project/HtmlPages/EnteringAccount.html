<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="utf-8" />
    <title></title>
</head>
<body style="background-color: #1e003d;">
    <div style="position: absolute; top: 50%; left: 50%; margin-right: -50%; 
       transform: translate(-50%, -50%); border: 2px solid white; height: 80%; width: 80%;">
        <div style="position: absolute; top: 50%; left: 50%; margin-right: -50%;
             transform: translate(-50%, -50%); height: 50%; text-align:center;">
            <h3 style="color: white; font-size: 30px;">Имя пользователя</h3>
            <input id="usernameInput" style="background: transparent; border: 2px solid white; font-size: 20px; color: white;">
            <h3 style="color: white; font-size: 30px;">Пароль</h3>
            <input id="passwordInput" type="password" style="background: transparent; border: 2px solid white; font-size: 20px; color: white;">
            <br><br>
            <button id="signinButton" style="color: white; background-color: #7209de; font-size: 40px;">Войти</button>
            <br>
            <label id="statusLabel" style="color: white; font-size: 20px;"></label>
        </div>
    </div>

    <script>
        const usernameInput = document.getElementById("usernameInput");
        const passwordInput = document.getElementById("passwordInput");
        const signinButton = document.getElementById("signinButton");
        const statusLabel = document.getElementById("statusLabel");

        signinButton.onclick = (async () => {
            await fetch("signin", {
                method: "POST",
                body: JSON.stringify({
                    username: usernameInput.value,
                    password: passwordInput.value
                }),
                headers: {
                    "Content-Type": "application/json"
                }
            }).then((response) => {
                if (!response.ok) {
                    statusLabel.innerHTML = "Неверный логин или пароль";
                    setTimeout(() => statusLabel.innerHTML = "", 3000);
                }

                else
                    document.location.href = "/";
            })
        });
    </script>
</body>
</html>