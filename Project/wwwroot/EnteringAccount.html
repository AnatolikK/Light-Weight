<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="utf-8" />
    <title>Войти</title>   
    <link rel="stylesheet" href="EnteringAccount.css"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
</head>
<body>
    <div class="bg-dark bg-gradient">
    <div class="wrapper">
        <div style="position: absolute; top: 50%; left: 50%; margin-right: -50%;
             transform: translate(-50%, -50%); height: 50%; text-align:center;">
            <h3 style="color: white; font-size: 30px;">Имя пользователя</h3>
            <input id="usernameInput" style="background: transparent; border: 2px solid white; font-size: 20px; color: white;">
            <h3 style="color: white; font-size: 30px;">Пароль</h3>
            <input id="passwordInput" type="password" style="background: transparent; border: 2px solid white; font-size: 20px; color: white;">
            <br><br>
            <button id="signinButton" style="color: white; background-color: #7209de; font-size: 40px;">Войти</button>
            <br>
            <label id="statusLabel" style="color: white; font-size: 20px;"></label>
        </div>
    </div>
</div>

    <script>
        const usernameInput = document.getElementById("usernameInput");
        const passwordInput = document.getElementById("passwordInput");
        const signinButton = document.getElementById("signinButton");
        const statusLabel = document.getElementById("statusLabel");

        signinButton.onclick = (async () => {
            await fetch("signin", {
                method: "POST",
                body: JSON.stringify({
                    username: usernameInput.value,
                    password: passwordInput.value
                }),
                headers: {
                    "Content-Type": "application/json"
                }
            }).then((response) => {
                if (!response.ok) {
                    statusLabel.innerHTML = "Неверный логин или пароль";
                    setTimeout(() => statusLabel.innerHTML = "", 3000);
                }

                else
                    document.location.href = "/";
            })
        });
    </script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script></body>

</body>
</html>