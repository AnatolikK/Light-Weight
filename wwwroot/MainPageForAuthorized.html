<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="utf-8" />
    <title>Digital Portfolio</title>
</head>
<body style="background-color: #1e003d;">
    <div style="position: absolute; top: 50%; left: 50%; margin-right: -50%;
       transform: translate(-50%, -50%); border: 2px solid white; height: 80%; width: 80%;">
        <div style="width: 60%; float: left;">
            <input type="search" id="searchInput" placeholder="Введите название" style="background: transparent;
            border: 2px solid white; width: 75%; font-size: 40px; color: white;">
            <button id="searchButton" style="color: white; background-color: #7209de; font-size: 40px; ">Найти</button>
        </div>
        <div style="width: 40%; float: right; text-align: center;">
            <a id="usernameRef" style="font-size: 40px; color: white;"></a>
        </div>
        <div>
            <label style="color: white; font-size: 400%; float: left; position: absolute; top: 50%; left: 50%; margin-right: -50%; transform: translate(-50%, -50%);">Добро пожаловать!</label>
        </div>
    </div>

    <script>
        const searchInput = document.getElementById("searchInput");
        const usernameRef = document.getElementById("usernameRef");

        window.onload = (async () => {
            const resp = await fetch("/getuserinfo", {
                method: "GET"
            });

            const data = await resp.json();
            usernameRef.setAttribute("href", data.username);
            usernameRef.innerHTML = data.username;
        });

        document.getElementById("searchButton").onclick = (() => {
            window.location.href = "search?name=" + searchInput.value + "&type=user";
        });
    </script>
</body>
</html>